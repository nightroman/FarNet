3.3.26

PLUGIN PANELS
- New property IPanelPlugin.StartDirectory (current directory when it starts).

REMOVED
- Removed IFar.UnregisterPluginsDiskItem, IFar.UnregisterPluginsMenuItem, see
explanation in history 3.3.25.

3.3.25

OBSOLETE
- IFar.UnregisterPluginsDiskItem, IFar.UnregisterPluginsMenuItem are obsolete
and will be removed because they are not really effective: registration is done
only when Connect() is called and it cannot be 'undone'. Besides, when FAR.NET
is disconnected all registered items are 'unregistered' automatically. Example
plugin sources are already updated, you may have to update your existing
plugins too: simply remove calls of these methods. Bonus: you don't have to keep
menu item references waiting for Disconnect() to be unregistered, and in most
cases a plugin does not have to implement Disconnect() at all.

PLUGIN CONFIGURATION
- New method RegisterPluginsConfigItem(): adds "Plugin configuration" item.

WINDOWS
- New property IFar.WindowCount {get}.
- New interface IWindowInfo and enum WindowType.
- New methods IFar: GetWindowInfo(), SetCurrentWindow(), Commit().

DIALOGS
New features mostly simplifying creation of a dialog and especially future
modifications of it (Test-Dialog-.ps1 in PowerShellFar shows them all):
- IDialog.AddBox(): if a parameter right\bottom is 0 then it is calculated;
- New properties IDialog.Rect, IControl.Rect (useful for relative positions);
- New property IDialog.NoSmartCoords. By default coordinates are "smart", i.e.
not positive Top is subtracted from the previous control Top: (0) - the same
line, (-1) - the next line, and so on. See more in help.
- New property IDialog.Cancel:IButton - if it is set and the button is pushed
then Selected is set to this button as usually, but Show() returns false now.

PLUGIN PANELS
- REMOVED property IPanelPluginInfo.ConfirmClose because of FE_CLOSE issues: it
may not happen or it may happen when a panel is not about to close.
- New methods IPanel.Close() and IPanel.Close(string path).
- REMOVED method IFar.ClosePanel(), instead of it use IPanel.Close() (also for
IPanelPlugin), i.e. call Far.Panel.Close() to close an active panel,
Far.AnotherPanel.Close() to close a passive panel, <IPluginPanel>.Close() to
close a plugin panel (active or passive).

3.3.23

- New methods IFar.{Get|Set}PluginValue(string pluginName, string valueName,
object {default|new}Value) to {get|set} a plugin value stored in the registry,
usually at "Software\Far\Plugins" (or "Software\Far\Users\user1\Plugins" if FAR
is started started with '/u user1' parameter). "pluginName" defines a subkey
there; the subkey is created if it does not exist even if you only get a value.

3.3.22

- Fixed most (all?) of x64 issues. Sources are ready for x64. Currently binaries
are provided for x32 only, sorry for inconvenience.

3.3.21

This is mostly a technical build needed for PowerShellFar.

3.3.20

This is mostly a technical build needed for PowerShellFar.

3.3.19

- Added 'set' method to property IPanel.NumericSort.
- Fixed issues in plugin panel start sort modes.

3.3.18

- Properties IPanel.{ReverseSortOrder | SortMode | ViewMode} are now 'get\set'
(i.e. not 'get' only).
- New properties IFar.{RootFar | RootKey} - registry paths taking into account
a user, e.g. '/u user1' in FAR command line.
- Improved switching\keeping\restoring of plugin panels modes.
- Fixed lib path in Build-JS.bat.
- Fixed ReplaceSlashes.js in examples.

3.3.17

- removed obsolete properties {ILines | IStrings}.Text; please, use methods
{IEditor | ISelection}.{GetText | SetText}.

3.3.16

- new property IFar.From:OpenFrom - where a plugin is opened from.
- new property IPanel.Window:Place - panel coordinates.
- new properties IEditor.TrueLines,TrueSelection: no empty last line if any.
They are designed for convenient reading or changing existing lines in foreach
loops; Add(), Insert(), RemoveAt() are available, but not yet recommended, they
can not be used in foreach anyway.

OBSOLETE:
- properties {ILines | IStrings}.Text will be removed; please, use methods
{IEditor | ISelection}.{GetText | SetText} - they will be more effective.
ILines and IStrings will be almost nothing but ILine and string lists.

3.3.15

- Far.exe.config: added option FarManager.StartupErrorDialog: 0: write error
info to console (default); 1: show standard error dialog (you may want to turn
it on to view error info in viewer (button [Info])).
- fixed exception on clipboard failure.
- fixed broken examples in Plugins.NET folder

3.3.14

BREAKING CHANGE: some of IFile properties and panel modes enums renamed using
names of standard .NET class FileSystemInfo. Sorry for that, but it should be
much more convenient than to have 3 different set of names for the same things.

Panels:
- change: IFar.CreatePanelPlugin() creates a panel, then IPanelPlugin.Open()
should be called explicitly.
- removed IPanelPlugin.Panel:IPanel. Instead, IPanelPlugin is derived from
IPanel and implements some functionality more effectively.
- removed IPanel.Top (it looks like it is not used), use IPanel.TopIndex which
is really needed.
- IFar.Panel, IFar.AnotherPanel: if it is a FAR.NET plugin panel it returns
IPanelPlugin (derived from IPanel, see above).
- IFile.Tag:int was replaced with IFile.Data:object, so that you can attach any
objects to your panel plugin items.

3.3.13

Plugin panels:
- new method IFar.GetPanelPlugin().
- removed from public interface property IPanelPlugin.Id (used internally).
- new IPanelPlugin.Another - another FAR.NET IPanelPlugin if it exists.
- new IPanelPlugin.Panel - IPanel interface for this IPanelPlugin.
- new IPanelPlugin.Host - you may use it if you have more than one panel.

Plugin disk menu:
- Added IFar.{Register | Unregister} PluginsDiskItem(): the same as
IFar.{Register | Unregister} PluginsMenuItem() but for FAR disk menu.

3.3.12

- Updated Plugins.NET\IronPython plugin (by Max Belugin).
- IFar.Input(): added 3 overloaded methods and changed parameter order in
the existing method: prompt, history, title, text.

3.3.11

- Fixed minor issues on exceptions in panel plugin events.
- IFar: new method Input() - helper to create and show IInputBox.
- IEditor: fixed exceptions from get-properties of not opened editor.
- Added Plugins.NET\Ipy: plugin to run scripts in IronPython (by Max Belugin).

3.3.10

- IFar: new method ClosePanel(): closes the current plugin panel.
- IPanelPluginInfo: new property ConfirmClose:bool.
- IPanel: new method Redraw(int, int).
- IFile: new property: Tag:int. It works as user data attached to an item.
Unfortunately Data:object, as in other interfaces, is not possible for IFile.
Removed properties Path and ParentPath, sorry for a breaking change, but they
were error prone in many cases (and redundant in many other cases); thus, if you
need parent path take it as IPanel.Path and then you decide what Path is in your
scenario: with slash, backslash, nothing, ... (if you need Path at all).
- Refactoring of panel related interfaces for new panel plugin functionality,
added new features, some minor changes may be breaking.
- Updated documentation.

3.3.9

- Implemented panel plugin interfaces: main of them are: IPanelPlugin and
IPanelPluginInfo. See docs for details. Not yet everything is implemented but
significant part. Everything is a subject to change, this is the first version.
A simple but not really trivial example is Search-Regex-.ps1 in PowerShellFar.
- Refactoring for panel plugins: removed interface IFolder; replaced property
IFolder IFile.Parent with string IFile.ParentPath; replaced property IFolder
IPanel.Contents with IList<IFile> IPanel.Contents.
- Removed from public interface currently redundant IPluginMenuItem.FireOnOpen()
and IMenuItem.FireOnClick().

3.3.8

- Improved some XML doc code comments, updated CHM help. CHM help: removed MSDN
references, inherited .NET comments and other redundant information.
- Preliminary internal changes for coming features.

3.3.7

- Created CHM help: from now on the latest version can be downloaded from:
http://code.google.com/p/farnet/downloads/list
- IFar: two new methods Write() appending plain or colored text to the user
screen (under panels).
- Far.NET does not show now error message boxes during the procedure of loading
plugins (it is annoying if problems are known and temporary). Instead, it writes
all error messages to the user screen and continues.

3.3.6

- Removed: IMenuItem.Selected and related IMenu.Show(int) and parameters
Selected from several methods IMenuItems.Add(). Instead, IMenu.Show() uses
IMenu.Selected as input if it is set. This way seems more consistent than
approach with IMenuItem.Selected (potential conflict between items).

3.3.5

- ILine.Pos: setting of a negative value moves cursor to the end of a line.
- New ILine.Length: text length; use it when text itself is irrelevant.
- New IEditor.GoEnd(): effective way to move cursor to the end of file.
- IFar.Msg(): header: chars '\t', '\r', '\n', if any, are replaced with spaces.
- Removed FarPluginsLoader.dll; you have to do it manually (in %FARHOME%\Lib).
- Fixed recent bugs in menus.
- New property IMenu.SelectLast: tells to select the last item.
- New IMenu feature: filters. See XML docs for properties Filter, FilterKey,
FilterHistory, FilterRestore.

3.3.4

- Implemented IEdit\IComboBox.Line.Selection.
- Interfaces IRect, IStream, ITwoPoints are replaced with value type with
neutral name Place which can be used as Rect, Stream or TwoPoints.
- New properties HelpTopic in IDialog, IMenu, IInputBox, IMessage and new method
IFar.ShowHelp().
- Removed FarDotNetStruct.dll; you should remove it manually if you have one,
normally it is in here: "%FARHOME%\Lib\".

3.3.3

- New editor methods Begin()\End(). They drastically improve performance of
operations on large number of editor lines. Example: an operation used to take
2-3 minutes on a file containing 40,000 lines; now being used with Begin\End it
takes 4 seconds.
- Interface ICursor is replaced with struct TextFrame + related properties
Frame, Cursor and methods GoTo*.
- New property Line (ILine) in IEdit and IComboBox.
- Fixed crash in dialogs on Idled event.

3.3.2

- Fixed IInputBox.History issue.
- IEditor: new ConvertPosToTab(), ConvertTabToPos() and ConvertScreenToCursor()
- IMenu.Show() automatically changes coordinate Y (if >= 0) if items are out of
the screen.
- Interface IPoint is replaced with struct Point.

3.3.1

- New dialog item IComboBox, IListBox, password editor and vertical text or
separator.
- Implemented main dialog events. See Test-Dialog-.ps1 in PowerShellFar 1.1.1
for examples.
- Most of dialog items properties are dynamic, i.e. when a dialog is started
they reflect the current dialog state both for reading and writing. Example:
Test-Dialog-.ps1 - button [Test] and related code.
- IFar.Msg(): supported line delimiters are \r, \n è \r\n, Tabs are replaced
with spaces. Text is wrapped if required. Two new methods IFar.Msg() with more
options.
- Revision of old Key, Mouse and related events. New structs are KeyInfo and
MouseInfo.

3.3.0

- FarManager.Forms: implemented IDialog, IBox (double, single), IButton,
ICheckBox, IEdit (standard, fixed), IRadioButton, IText. Example -
Test-Dialog-.ps1 in PowerShellFar 1.1.0.
- New method IFar.CreateViewer() and interface IViewer.
- New method IFar.WriteText().
- Revision of IInputBox.
- IFar.PostText() processes \n, \r and \r\n as Enter. Empty text and empty key
sequence for IFar.PostKeys() is not an error.
- Optimized some string operations.

3.2.9

- Improved exception handling.
- New IFar.ShowError() for internal use but can be used externally as well.
- New IFar.PostText().

3.2.8

- New IFar.GetHistory()
- IVersion is replaced with System.Version

3.2.7

- New IEditor.CurrentLine of type ILine.
- New in ILine: Pos, Insert(), Select(), Unselect().
- IFar.CommandLine is ILine now. ICommandLine is removed.
- IFar.GetUserScreen() sends "user screen" to screen. Far >= 1.71.2187.
- IPanel.IsVisible is get\set (set works via sending CtrlF1\F2).

3.2.6

- New IMenuItem.Data, IMenu.SelectedData, IPanel.NumericSort,
IFar.SetUserScreen(), ICommandLine.Insert().
- IEditor.ExpandTabs type is enum ExpandTabsMode.
- Improved some exceptions info.

3.2.5

- Minor changes in IMenu è ISelection and fix of potential crash of a menu with
incorrect coordinates.

3.2.4

- Main editor functionality is now implemented as it was designed.
- Vast revision of existing IEditor implementation.
- New IEditor.Bookmarks().
- New properties in IPanel, mostly 'get', but Path is also 'set'.
- New interface ICommandLine and property IFar.CommandLine.
- Examples: added Build-CS.bat, Build-JS.bat, Build-VB.bat.

3.2.3

- Implemented lists in editor.
- All collections are generic now.
- All event handlers are standard now (i.e.: object sender, ..EventArgs e).

3.2.1

- Fixed selection in editor.
- Completed .NET 2.0 porting.

3.1.? and below

- 29.08.06 - ported to .NET 2.0
- 19.08.05 - beta stage
- editor fixes
- new plugin loading scheme
- new IFar.RegisterPluginsMenuItem(name, onclick)
- new IMenuItems.Add(name, onclick)
- XML comments in FarNetIntf.dll
- 11.08.05 - alpha stage
- new settings in Far.exe.config
- further editor implementation
- added demo plugins: CopyShared, JS.NetCalc, ReplaceSlashes
- 19.07.05 - started implementation of editor, fixed bugs in panels
- 16.05.05 - implemented SHPCE 2.0 functionality (except editor)
